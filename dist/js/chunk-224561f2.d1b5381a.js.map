{"version":3,"sources":["webpack:///./src/components/controlPropertiesModal.vue?8a19","webpack:///src/components/controlPropertiesModal.vue","webpack:///./src/components/controlPropertiesModal.vue?c81f","webpack:///./src/components/controlPropertiesModal.vue","webpack:///./node_modules/core-js/modules/es.date.now.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","editformId","staticClass","attrs","staticStyle","_v","_s","title","_m","directives","name","rawName","value","control","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","_l","option","key","domProps","variableType","type","addVariable","_e","_b","editformFieldId","tag","model","callback","$$v","applyEdit","staticRenderFns","inject","methods","v","$variableTypes","text","showModal","Date","now","ctrl","$getControlByTag","label","isDataField","properties","controlValidations","startsWith","$options","components","$forceUpdate","t","$openVariableProperties","acceptedVariableTypes","variable","vari","$v","$touch","$error","obj","provide","$getValidation","computed","acceptedVariables","l","arr","forEach","vars","push","data","show","validations","required","alphaNum","minLength","component","$","stat","getTime"],"mappings":"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","file":"js/chunk-224561f2.d1b5381a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:_vm.editformId,staticClass:\"cf uk-flex-top\",attrs:{\"id\":_vm.editformId,\"uk-modal\":\"\"}},[_c('div',{staticClass:\"uk-modal-dialog uk-transition-fade uk-margin-auto-vertical\",staticStyle:{\"transition\":\"none\"}},[_c('button',{staticClass:\"uk-modal-close-default\",attrs:{\"type\":\"button\",\"uk-close\":\"\"}}),_c('div',{staticClass:\"uk-modal-body uk-form-stacked\",attrs:{\"id\":\"editFormBody\"}},[_c('h2',{staticClass:\"uk-modal-title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',[_vm._m(0),_c('ul',{staticClass:\"uk-switcher uk-margin\",attrs:{\"uk-overflow-auto\":\"\"}},[_c('li',[(_vm.isDataField)?_c('div',{staticClass:\"uk-margin-small-bottom\"},[_c('label',{staticClass:\"uk-form-label\",attrs:{\"for\":\"txtValue\"}},[_vm._v(\"Variable name\")]),_c('div',{staticClass:\"uk-grid-column-collapse\",attrs:{\"uk-grid\":\"\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.control.variable),expression:\"control.variable\"}],staticClass:\"uk-select uk-form-small uk-width-expand@m\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.control, \"variable\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.acceptedVariables),function(option){return _c('option',{key:option.name,domProps:{\"value\":option.name}},[_vm._v(\" \"+_vm._s(option.name)+\" (\"+_vm._s(_vm.variableType(option.type))+\") \")])}),0),_c('a',{staticClass:\"uk-width-auto@m\",staticStyle:{\"margin-left\":\"5px\",\"margin-top\":\"5px\"},attrs:{\"href\":\"#\",\"uk-icon\":\"icon: plus-circle\"},on:{\"click\":function($event){return _vm.addVariable()}}})])]):_vm._e(),_c(_vm.control.type,_vm._b({key:_vm.editformFieldId,ref:\"controlProps\",tag:\"component\",model:{value:(_vm.control),callback:function ($$v) {_vm.control=$$v},expression:\"control\"}},'component',_vm.control,false))],1),_c('li',[_c('pre',[_c('code',[_vm._v(_vm._s(_vm.control))])])])])])]),_c('div',{staticClass:\"uk-modal-footer uk-text-right\"},[_c('button',{staticClass:\"uk-button uk-button-default uk-modal-close\",attrs:{\"type\":\"button\"}},[_vm._v(\" Cancel \")]),_c('button',{staticClass:\"uk-button uk-button-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.applyEdit()}}},[_vm._v(\" Apply \")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{attrs:{\"uk-tab\":\"\"}},[_c('li',[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"Basic\")])]),_c('li',[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"Debug\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div :ref=\"editformId\" :id=\"editformId\" class=\"cf uk-flex-top\" uk-modal v-cloak>\r\n    <div\r\n      style=\"transition: none;\"\r\n      class=\"uk-modal-dialog uk-transition-fade uk-margin-auto-vertical\"\r\n    >\r\n      <button class=\"uk-modal-close-default\" type=\"button\" uk-close></button>\r\n      <div class=\"uk-modal-body uk-form-stacked\" id=\"editFormBody\">\r\n        <h2 class=\"uk-modal-title\">{{title}}</h2>\r\n        <div>\r\n          <ul uk-tab>\r\n            <li><a href=\"#\">Basic</a></li>\r\n            <li><a href=\"#\">Debug</a></li>\r\n          </ul>\r\n          <ul class=\"uk-switcher uk-margin\" uk-overflow-auto>\r\n            <li>\r\n              <div v-if=\"isDataField\" class=\"uk-margin-small-bottom\">\r\n                <label for=\"txtValue\" class=\"uk-form-label\"\r\n                  >Variable name</label\r\n                >\r\n                <!--<input id=\"txtValue\" type=\"text\" class=\"uk-input uk-form-small\" v-model=\"control.variable\" v-bind:class=\"{'uk-form-danger': $v.control.variable.$error}\"/>-->\r\n                <div class=\"uk-grid-column-collapse\" uk-grid>\r\n                  <select\r\n                    class=\"uk-select uk-form-small uk-width-expand@m\"\r\n                    v-model=\"control.variable\"\r\n                  >\r\n                    <option\r\n                      :key=\"option.name\"\r\n                      v-for=\"option in acceptedVariables\"\r\n                      v-bind:value=\"option.name\"\r\n                    >\r\n                      {{ option.name }} ({{ variableType(option.type) }})\r\n                    </option>\r\n                  </select>\r\n                  <a\r\n                    href=\"#\"\r\n                    @click=\"addVariable()\"\r\n                    class=\"uk-width-auto@m\"\r\n                    style=\"margin-left: 5px; margin-top: 5px;\"\r\n                    uk-icon=\"icon: plus-circle\"\r\n                  ></a>\r\n                </div>\r\n              </div>\r\n              <component\r\n                :key=\"editformFieldId\"\r\n                ref=\"controlProps\"\r\n                :is=\"control.type\"\r\n                v-bind=\"control\"\r\n                v-model=\"control\"\r\n              ></component>\r\n            </li>\r\n            <li>\r\n              <pre><code>{{control}}</code></pre>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"uk-modal-footer uk-text-right\">\r\n        <button\r\n          class=\"uk-button uk-button-default uk-modal-close\"\r\n          type=\"button\"\r\n        >\r\n          Cancel\r\n        </button>\r\n        <button\r\n          class=\"uk-button uk-button-primary\"\r\n          type=\"button\"\r\n          @click=\"applyEdit()\"\r\n        >\r\n          Apply\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Vue from \"vue\";\r\nimport UIkit from \"uikit\";\r\nimport Vuelidate from \"vuelidate\";\r\nVue.use(Vuelidate);\r\nimport { deepCopy } from \"@/components/utils.js\";\r\n\r\nimport { required, minLength, alphaNum } from \"vuelidate/lib/validators\";\r\nexport default {\r\n  inject: [\r\n    \"$getControlByTag\",\r\n    \"$getVariablesByType\",\r\n    \"$variableTypes\",\r\n    \"$controls\",\r\n    \"$openVariableProperties\",\r\n  ],\r\n  //   created:function(){\r\n  //         this.$controls.forEach(control=>{\r\n  //             this.$options.components[control.tag]= control.properties;\r\n  //         })\r\n  //   },\r\n  methods: {\r\n    variableType: function (name) {\r\n      var v = this.$variableTypes[name];\r\n      return v.text;\r\n    },\r\n    showModal: function (control, callback) {\r\n      this.editformFieldId = Date.now();\r\n      this.callback = callback;\r\n      var ctrl = this.$getControlByTag(control.type);\r\n      this.title = ctrl.label.default;\r\n      this.isDataField = ctrl.isDataField;\r\n      var v = ctrl.properties.default.validations;\r\n      this.controlValidations = { control: {} };\r\n      if (v) {\r\n        for (let [key, value] of Object.entries(v)) {\r\n          if (!key.startsWith(\"$\"))\r\n            this.controlValidations.control[key] = value;\r\n        }\r\n      }\r\n      this.$options.components[control.type] = ctrl.properties.default;\r\n      UIkit.modal(document.getElementById(this.editformId), {container:false}).show();\r\n      this.control = deepCopy(control);\r\n      this.$forceUpdate();\r\n    },\r\n    addVariable: function () {\r\n      var t = this;\r\n      this.$openVariableProperties(null, this.acceptedVariableTypes, function (\r\n        vari\r\n      ) {\r\n        t.control.variable = vari.name;\r\n        UIkit.modal(document.getElementById(t.editformId)).show();\r\n      });\r\n    },\r\n    applyEdit: function () {\r\n      this.$v.$touch();\r\n      if (!this.$v.$error) {\r\n        UIkit.modal(document.getElementById(this.editformId)).hide();\r\n        if (this.callback) {\r\n          var obj = deepCopy(this.control);\r\n          this.callback(obj);\r\n        }\r\n      }\r\n    },\r\n  },\r\n  provide: function () {\r\n    var t = this;\r\n    return {\r\n      $getValidation: function () {\r\n        return t.$v.control;\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    acceptedVariables: function () {\r\n      var l = this.$getControlByTag(this.control.type).acceptedVariableTypes;\r\n      var arr = [];\r\n      l.forEach((avt) => {\r\n        var vars = this.$getVariablesByType(avt);\r\n        vars.forEach((v) => {\r\n          arr.push(v);\r\n        });\r\n      });\r\n      return arr;\r\n    },\r\n    acceptedVariableTypes: function () {\r\n      var l = this.$getControlByTag(this.control.type).acceptedVariableTypes;\r\n      return l;\r\n    },\r\n  },\r\n  data: function () {\r\n    return {\r\n      editformId: Date.now(),\r\n      editformFieldId: Date.now(),\r\n      show: false,\r\n      isDataField: false,\r\n      callback: function () {},\r\n      control: {},\r\n      title:\"\",\r\n      controlValidations: { control: {} },\r\n    };\r\n  },\r\n  validations: function () {\r\n    var obj = this.controlValidations;\r\n    if (this.isDataField) {\r\n      obj.control.variable = {\r\n        required: required,\r\n        alphaNum: alphaNum,\r\n        minLength: minLength(3),\r\n      };\r\n    }\r\n\r\n    return obj;\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./controlPropertiesModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./controlPropertiesModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./controlPropertiesModal.vue?vue&type=template&id=478cc80a&\"\nimport script from \"./controlPropertiesModal.vue?vue&type=script&lang=js&\"\nexport * from \"./controlPropertiesModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\n\n// `Date.now` method\n// https://tc39.github.io/ecma262/#sec-date.now\n$({ target: 'Date', stat: true }, {\n  now: function now() {\n    return new Date().getTime();\n  }\n});\n"],"sourceRoot":""}